# MDS • SnapFill

Figma плагин для автоматического заполнения макетов данными из CSV/JSON файлов.

## Возможности

- **Встроенные пресеты данных** — готовые наборы для B2B и B2C сценариев
- **Загрузка данных** из CSV и JSON файлов
- **Автоматическое заполнение** текстовых слоев
- **Загрузка изображений** из URL
- **Простой маппинг** по именам слоев
- **Множественное заполнение** — выберите несколько фреймов и заполните их случайными данными

## Установка

### Требования
- Node.js 18+
- Figma Desktop App

### Шаги установки

1. Склонируйте репозиторий:
```bash
git clone <repository-url>
cd SnapFill
```

2. Установите зависимости:
```bash
npm install
```

3. Соберите плагин:
```bash
npm run build
```

4. Загрузите плагин в Figma:
   - Откройте Figma Desktop
   - Меню: `Plugins` → `Development` → `Import plugin from manifest...`
   - Выберите файл `manifest.json` из корня проекта

## Использование

### Способ 1: Встроенные пресеты

1. Запустите плагин: `Plugins` → `Development` → `SnapFill`
2. Выберите категорию: **B2B** или **B2C**
3. Выберите нужный пресет
4. Выделите фрейм(ы) в макете
5. Нажмите "Заполнить"

### Способ 2: Свои данные

1. Перейдите на вкладку **JSON/CSV**
2. Загрузите CSV или JSON файл
3. Выделите фрейм(ы) в макете
4. Нажмите "Заполнить"

### Подготовка макета

1. Создайте фрейм в Figma с вашим дизайном
2. Назовите слои так же, как поля в данных

**Пример:**
- Слой с именем `title` будет заполнен значением поля `title` из данных
- Слой с именем `image` будет заполнен изображением из URL в поле `image`

### Формат данных

#### CSV файл
```csv
title,description,price,image
Товар 1,Описание товара 1,1000,https://example.com/image1.jpg
Товар 2,Описание товара 2,2000,https://example.com/image2.jpg
```

#### JSON файл
```json
{
  "title": "Товар 1",
  "description": "Описание товара 1",
  "price": "1000",
  "image": "https://example.com/image1.jpg"
}
```

Или массив объектов:
```json
[
  {
    "title": "Товар 1",
    "description": "Описание товара 1"
  },
  {
    "title": "Товар 2",
    "description": "Описание товара 2"
  }
]
```

### Множественное заполнение

1. Создайте несколько одинаковых фреймов (карточек)
2. Выделите все фреймы (Shift + Click)
3. Загрузите JSON массив или CSV файл
4. Нажмите "Заполнить" — каждый фрейм получит случайные данные!

**Подробнее:** см. [docs/MULTIPLE_FRAMES_FEATURE.md](./docs/MULTIPLE_FRAMES_FEATURE.md)

## Разработка

### Команды

```bash
# Полная сборка плагина
npm run build

# Сборка в режиме watch (автоперезагрузка)
npm run dev

# Только код плагина
npm run build:plugin

# Только UI
npm run build:ui
```

### Структура проекта

```
SnapFill/
├── src/
│   ├── code.ts           # Код плагина (Figma API)
│   ├── App.tsx           # React компонент UI
│   ├── main.tsx          # Точка входа React
│   ├── index.css         # Стили (Tailwind)
│   ├── components/       # UI компоненты
│   ├── presets/          # Встроенные пресеты данных
│   ├── lib/              # Утилиты
│   └── types/            # TypeScript типы
├── dist/                 # Скомпилированные файлы
├── docs/                 # Документация
│   ├── FIGMA_LAYER_GUIDE.md
│   ├── MULTIPLE_FRAMES_FEATURE.md
│   └── PRESETS_GUIDE.md
├── examples/             # Примеры данных для тестирования
├── manifest.json         # Манифест плагина
└── package.json
```

## Документация

- [Руководство по пресетам](./docs/PRESETS_GUIDE.md)
- [Именование слоев в Figma](./docs/FIGMA_LAYER_GUIDE.md)
- [Множественное заполнение](./docs/MULTIPLE_FRAMES_FEATURE.md)
- [Примеры данных](./examples/README.md)

## Roadmap

- [x] Базовая структура плагина
- [x] Загрузка CSV/JSON файлов
- [x] Заполнение текстовых слоев
- [x] Загрузка изображений из URL
- [x] Множественное заполнение
- [x] Встроенные пресеты данных
- [ ] Загрузка пресетов по URL
- [ ] Кастомный маппинг полей

## Лицензия

MIT
